<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Pomodoro 세션 설정</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-session">

    {% if bgm != 'off' %}
    <audio id="bgmPlayer" autoplay loop>
        <source src="{{ url_for('static', filename='bgm/' + bgm) }}" type="audio/mpeg">
    </audio>
    {% endif %}

    <form method="post" action="/start">
        <div class="session-wrapper">
            <!-- 왼쪽 질문 영역 -->
            <div class="left-box">
                <div class="form-group">
                    <label for="task">1. 이번 뽀모도로 세션에서 집중할 핵심 작업은 무엇인가요?</label>
                    <textarea name="task" id="task" rows="2" required>{{ task or '' }}</textarea>
                </div>

                <div class="form-group">
                    <label for="goal">2. 이 작업이 완료 되었을 때 어떤 결과물을 원하나요?</label>
                    <textarea name="goal" id="goal" rows="2" required>{{ goal or '' }}</textarea>
                </div>

                <div class="form-group">
                    <label for="focusUnits">3. 예상되는 집중 시간(뽀모도로 단위)을 적어보세요</label>
                    <input type="number" name="focusUnits" id="focusUnits" min="1" max="10" required>
                </div>
            </div>

            <!-- 오른쪽 설정 영역 -->
            <div class="right-box">
                <div class="form-group">
                    <label for="workMinutes">집중 시간</label>
                    <select name="workMinutes" id="workMinutes" style="width: 160px;" required>
                        {% for i in range(5, 60, 5) %}
                        <option value="{{ i }}">{{ i }}분</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="breakMinutes">휴식 시간</label>
                    <select name="breakMinutes" id="breakMinutes" style="width: 160px;" required>
                        {% for i in range(1, 11) %}
                        <option value="{{ i }}">{{ i }}분</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="repeatCount">반복 횟수</label>
                    <select name="repeatCount" id="repeatCount" style="width: 160px;" required>
                        {% for i in range(1, 6) %}
                        <option value="{{ i }}">{{ i }}회</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="bgmSelect">배경 음악</label>
                    <select name="bgm" id="bgmSelect" style="width: 160px;">
                        <option value="off" {% if bgm == 'off' %}selected{% endif %}>Off</option>
                        <option value="rain.mp3" {% if bgm == 'rain.mp3' %}selected{% endif %}>Rain</option>
                        <option value="ocean.mp3" {% if bgm == 'ocean.mp3' %}selected{% endif %}>Ocean</option>
                        <option value="heater.mp3" {% if bgm == 'heater.mp3' %}selected{% endif %}>Heater</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 버튼 영역 -->
        <div class="start-button-wrapper">
            <button type="submit" class="start-button">START</button>
        </div>
    </form>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Pomodoro 세션 설정</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-session">

    {% if bgm != 'off' %}
    <audio id="bgmPlayer" autoplay loop>
        <source src="{{ url_for('static', filename='bgm/' + bgm) }}" type="audio/mpeg">
    </audio>
    {% endif %}

    <div class="session-wrapper">
        <!-- 왼쪽 설정 박스 -->
        <div class="left-box">
            <form method="post" action="/start" class="settings-form">
                <div class="form-group">
                    <label for="workMinutes">집중 시간</label>
                    <select name="workMinutes" id="workMinutes" required>
                        {% for i in range(5, 60, 5) %}
                        <option value="{{ i }}">{{ i }}분</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="breakMinutes">휴식 시간</label>
                    <select name="breakMinutes" id="breakMinutes" required>
                        {% for i in range(1, 11) %}
                        <option value="{{ i }}">{{ i }}분</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="repeatCount">반복 횟수</label>
                    <select name="repeatCount" id="repeatCount" required>
                        {% for i in range(1, 6) %}
                        <option value="{{ i }}">{{ i }}회</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="bgmSelect">배경 음악</label>
                    <select name="bgm" id="bgmSelect">
                        <option value="off">Off</option>
                        <option value="rain.mp3">Rain</option>
                        <option value="ocean.mp3">Ocean</option>
                        <option value="heater.mp3">Heater</option>
                    </select>
                </div>
        </div> <!-- 왼쪽 박스 닫기 -->

        <!-- 오른쪽 질문 박스 -->
        <div class="right-box">
                <div class="form-group">
                    <label for="task">1. 이번 뽀모도로 세션에서 집중할 핵심 작업은 무엇인가요?</label>
                    <textarea name="task" id="task" rows="2" required>{{ task or '' }}</textarea>
                </div>

                <div class="form-group">
                    <label for="goal">2. 이 작업이 완료 되었을 때 어떤 결과물을 원하나요?</label>
                    <textarea name="goal" id="goal" rows="2" required>{{ goal or '' }}</textarea>
                </div>

                <div class="form-group">
                    <label>3. 예상되는 집중 시간(뽀모도로 단위)을 적어보세요</label>
                    <input type="number" name="focusUnits" min="1" max="10" required>
                </div>

                <button type="submit" class="start-button">START</button>
            </form> <!-- form 종료는 여기 -->
        </div>
    </div>
</body>
</html>
